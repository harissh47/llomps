document.body.onload=embedChatbot;async function embedChatbot(){let e=window.chatbotConfig;if(!e||!e.token){console.error("chatbotConfig is empty or token is not provided");return}let t="",o=0;for(let i in e)"isDev"!==i&&"baseUrl"!==i&&"token"!==i&&(0===o?t+="?":t+="&",o++,t+=`${i}=${e[i]}`);e.isDev;let n=e.baseUrl||"",l=`<img 
            src=${n}/assets/copilot-logo.png
            alt="Copilot"
            height="27px"
            width="auto"
            object-fit="fill"
          />`,r=`<svg
          id="closeIcon"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="
http://www.w3.org/2000/svg"
>
<path
            d="M18 18L6 6M6 18L18 6"
            stroke="black"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
</svg>`,s=document.getElementById("chatbot-bubble-button");if(!s){let d=document.createElement("div");d.id="chatbot-bubble-button",d.style.cssText="position: fixed; bottom: 1rem; right: 1rem; width: 60px; height: 60px; border-radius: 34px 8px 34px 34px; background-color: #fff; box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 8px 0px; cursor: pointer; z-index: 2147483647; transition: all 0.2s ease-in-out 0s; left: unset; transform: scale(1); :hover {transform: scale(1.1);}";let a=document.createElement("div");a.style.cssText="display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; z-index: 2147483647;",a.innerHTML=l,d.appendChild(a),document.body.appendChild(d),d.addEventListener("click",function(){let o=document.getElementById("chatbot-bubble-window");if(!o){(function o(){let i=document.createElement("iframe");i.allow="fullscreen;microphone",i.title="chatbot bubble window",i.id="chatbot-bubble-window",i.src=`${n}/chatbot/${e.token}${t}`,i.style.cssText="border: none; position: fixed; flex-direction: column; justify-content: space-between; box-shadow: rgba(150, 150, 150, 0.2) 0px 10px 30px 0px, rgba(150, 150, 150, 0.2) 0px 0px 0px 1px; bottom: 5rem; right: 1rem; width: 24rem; max-width: calc(100vw - 2rem); height: 40rem; max-height: calc(100vh - 6rem);border-radius: 0.75rem; display: flex; z-index: 2147483647; overflow: hidden; left: unset; background-color: #F3F4F6;",document.body.appendChild(i)})(),a.innerHTML=r;return}"none"===o.style.display?(o.style.display="block",a.innerHTML=r):(o.style.display="none",a.innerHTML=l)})}}